<script>
	import { createEventDispatcher } from 'svelte';
	
	const dispatch = createEventDispatcher();
	
	let showForecast = false;
	
	function toggleForecast() {
		showForecast = !showForecast;
		dispatch('toggleForecast', { show: showForecast });
	}
</script>

<div id="weatherWidget" aria-live="polite">
	<div id="weatherHeader">
		<div id="weatherLabels">
			<span id="weatherTitle">Local Weather</span>
			<span id="weatherUpdated">Waiting for location...</span>
		</div>
		<button id="refreshWeatherBtn" type="button" aria-label="Refresh weather">â†»</button>
		<button id="forecastBtn" type="button" aria-label="View weekly forecast" title="Weekly forecast" on:click={toggleForecast}>ðŸ“…</button>
	</div>
	<div id="weatherContent">
		<div id="weatherPrimary">
			<span id="weatherIcon">--</span>
			<span id="weatherTemp">--Â°</span>
		</div>
		<div id="weatherDetails">
			<div id="weatherDescription">We will pull the forecast once we know where you are.</div>
		</div>
	</div>
</div>

<style>
	/* Component-specific styles scoped by default */
</style>
